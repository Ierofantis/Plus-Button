 <!doctype html>
  <html>
  <head>
    <title>Button Swords</title>
    <link href="/game.css" rel="stylesheet" type="text/css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
     <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
      </head>
    <body>  
   <h1>Sword Buttons</h1>
    <h1><a href="/players">Players</li></a></h1>
<div class="container">
  <div class="row ">
    <div class="col-md-4">
    <button type="button" onclick="sendMessages()" id="war" class="btn btn-danger">War!</button>
      <div id="1">You have to hit the war button </div>   
      <div id="1">Until <strong><%=user.emails%> </strong> dies</div> 
    </div>        
  
    <div class="col-md-4">    
      <button onclick="sendMessage()" type="button" id="success" class="btn btn-success">Defend</button>
      <div id="1">You have to push Defend button <strong> <%= user.emails %></strong></div>
      <div id="1">to defend yourself</div> 
       <h1 id="health"></h1>   
    </div>
 <div class="col-md-4">
      <button type="button" id="resign" class="btn btn-warning">Resign</button>
      <div id="1">I Quit button</div>    
    </div>    
  </div>
</div> 
 <div class="row ">
    <div class="col-md-4">
  <input id="room" type="text"/>
  <button onclick="setRoom()">Set Room</button>
</div>
<div>
</div> 
</div>
 <script> 
    var socket = io();
  
  //   socket.on('counts',function(c)
  // { 
  //   document.getElementById("health").innerHTML = "Your Health is" + "&nbsp" + c + "";
  // })

  var count=5;
 
   function sendMessage () {
     // send message
     var $message = document.getElementById('health')
     count++
     socket.emit('message', count)

     // add to page
     // const $p = document.createElement("p")
     // $p.appendChild(document.createTextNode(`YOU: ${$message.value}`))
     // document.body.appendChild($p)
     // // clear message input box
     // $message.value = ''
   }
 function sendMessages () {
     // send message
     var $message = document.getElementById('health')
     count--
     socket.emit('message', count)

     // add to page
     // const $p = document.createElement("p")
     // $p.appendChild(document.createTextNode(`YOU: ${$message.value}`))
     // document.body.appendChild($p)
     // // clear message input box
     // $message.value = ''
   }

 socket.on('counts',function(c) {
  $( "#health" ).html( "Health ==>" + "&nbsp" + c + "" )})
 

// $( "#success" ).click(function() { 
//    count++
//    socket.emit('counts', count );

// });

$( "#war" ).click(function() {
  count--
  socket.emit('counts', count );
  if(count==0){  
  alert("game over")
  return count=5
  }
});
 socket.on('connect', function onConnect () {
    console.log(`Connected as ${socket.id}`)
  })

  socket.on('message', function onMessage (message) {
    // add received message to page
    const $p = document.createElement("p")
    $p.appendChild(document.createTextNode(`${message.sender}: ${message.content}`))
    document.body.appendChild($p)
  })

  function setRoom () {
    socket.emit('move to room', document.getElementById('room').value)
  }

  function sendMessage () {
    // send message
     count++
    
    socket.emit('message',count)
    // add to page
    const $p = document.createElement("p")
    $( "#health" ).html( "Health ==>" + "&nbsp" + count + "" )
    //document.body.appendChild($p)
    // clear message input box
    $message.value = ''
  }

  </script>
    </body>       
    </html>
